<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>もふもふ</title>
  <link rel="stylesheet" href="/assets/css/log.css">
  <link rel="stylesheet" href="/assets/profile.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <style></style>
  <script src="/assets/js/log.js"></script>
  <!-- FullCalendar 라이브러리 및 구글 캘린더 플러그인 스크립트 추가 -->
	    <!-- 외부 CSS 파일 및 Font Awesome 추가 -->
	    <link rel="stylesheet" href="/calendar/css/style.css">
	    <link rel="stylesheet" href="/calendar/css/notifications.css">
	<link
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
		rel="stylesheet">
</head>

<body>
  <div class="wrapper"> <!--wrapper : 전체 페이지를 감싸는 컨테이너-->
    <!-- Sidebar -->
	<nav class="sidebar" th:replace="~{profile}"></nav>

    <!-- Content Wrapper --> <!--Content Wrapper : 메인 콘텐츠와 상단 네비게이션 바를 감싸는 컨테이너 -->
    <div class="content-wrapper">
      <!-- Navbar -->
      <nav class="navbar">
          <div class="navbar-container">
              <a href="#" class="navbar-logo">もふもふ</a>
              <ul class="navbar-menu">
                  <li><a href="/calendar">홈</a></li>
                  <li><a href="/log/indexLog">피드</a></li>
                  <li><a href="/board/list">게시판</a></li>
                  <li><a href="/location/locationList">장소추천</a></li>
              </ul>
              <div class="navbar-icons">
                  <div class="icon-group">
                      <div class="noti_icon-item" onclick="openNotificationModal()">
                          <i class="fas fa-bell"></i>
                          알람 <span id="notification-count" class="noti_badge" style="display: none;">0</span>
                      </div>
                  </div>
                  <div class="profile-group">
                      <span class="divider"></span>
                      <span class="profile-name">닉네임: <span th:text="${nickname}"></span></span>
                      <button id="logoutButton" onclick="window.location.href='/user/logout'">로그아웃</button>
                      <!-- 관리자 페이지 버튼 -->
                      <button id="adminButton" style="display: none;" onclick="window.location.href='/admin/adminpage'">관리자 페이지</button>
                  </div>
              </div>
          </div>
      </nav>
      <!-- 알림 모달 -->
      <div id="noti_modal" class="noti_modal">
          <div class="noti_modal-content">
              <span class="noti_close-button" onclick="closeNotificationModal()">&times;</span>
              <h3>현재 예정된 일정</h3>
              <ul id="notification-list"></ul>
          </div>
      </div>

      <!-- Main Content --> <!--Main Content : 메인 콘텐츠 영역-->
      <div class="logBanner">
	  <a href="https://www.zooseyo.or.kr/zooseyo_or_kr.html?" target="_blank">
	    <img src="/images/logBanner.jpg" alt="배너 이미지" class="banner-image" />
	  </a>
	</div>
      <div id="logApp">
        <!-- 글쓰기 버튼 -->
        <button id="writeButton">
		  <i class="fas fa-pencil-alt"></i> <!-- 아이콘 -->
        </button>
        
		<!-- 글쓰기 팝업 -->
		<div id="logPopupContainer" class="popup-container" style="display: none;">
		    <div class="popup">
		        <textarea id="logContentInput" rows="5" placeholder="내용을 입력하세요(300자 이내)"></textarea>
		
		        <!-- 이미지 업로드 폼 추가 -->
		        <form id="uploadForm" method="POST" enctype="multipart/form-data" action="/log/add">
		            <input type="file" id="logImageInput" name="logFiles" multiple />
		            <p style="color: red; font-size: 12px;">※ 최대 5개 파일만 등록 가능합니다.</p>
		        </form>
		
		        <button id="logSubmitButton">저장</button>
		        <button id="logCloseButton">닫기</button>
		    </div>
		</div>
		
		<!-- 게시물 리스트 -->
		<div id="logPostContainer">
		    <!-- 게시물은 JavaScript에서 동적으로 추가됩니다 -->
		</div>

    </div>
  </div>
  <script src="/calendar/js/notifications.js"></script>
</body>
</html>